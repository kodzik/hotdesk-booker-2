<p-table
  #dt1
  [value]="resources"
  dataKey="name"
  styleClass="p-datatable-sm"
  [style]="{ height: '100%' }"
  [tableStyle]="{ 'min-width': '30rem',  }"
  [globalFilterFields]="['name', 'category']"
  selectionMode="single"
>
  >
  <ng-template pTemplate="caption">
    <div class="flex">
      <span class="p-input-icon-left ml-auto">
        <i class="pi pi-search"></i>
        <input
          #textInput
          pInputText
          type="text"
          (input)="dt1.filterGlobal($event.target.value, 'contains')"
          placeholder="Search keyword"
        />
      </span>
    </div>
  </ng-template>

  <ng-template pTemplate="body" let-product let-expanded="expanded">
    <tr [pRowToggler]="product">
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>
        <p-tag
          [value]="product.reserved ? 'available' : 'occupied'"
          [severity]="getSeverity(product.reserved)"
        ></p-tag>
      </td>
      <i [class]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
    </tr>
  </ng-template>

  <ng-template pTemplate="rowexpansion" let-product>
    <tr>
      <td colspan="7">
        <div class="p-3">
          <p-button [style]="{ height: '2rem' }">Quick book</p-button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
